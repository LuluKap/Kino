{"ast":null,"code":"import _slicedToArray from\"/Users/nridha/Documents/UCF/UCF-VIRT-FSF-FT-06-2022-U-LOLC/22-State/01-Activities/22-Stu_Typedefs/Solved/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link,useParams}from'react-router-dom';import{useQuery}from'@apollo/client';import{useStoreContext}from'../utils/GlobalState';import{UPDATE_PRODUCTS}from'../utils/actions';import{QUERY_PRODUCTS}from'../utils/queries';import spinner from'../assets/spinner.gif';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Detail(){var _useStoreContext=useStoreContext(),_useStoreContext2=_slicedToArray(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),currentProduct=_useState2[0],setCurrentProduct=_useState2[1];var _useQuery=useQuery(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;var products=state.products;useEffect(function(){if(products.length){setCurrentProduct(products.find(function(product){return product._id===id;}));}else if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});}},[products,data,dispatch,id]);return/*#__PURE__*/_jsxs(_Fragment,{children:[currentProduct?/*#__PURE__*/_jsxs(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"\\u2190 Back to Products\"}),/*#__PURE__*/_jsx(\"h2\",{children:currentProduct.name}),/*#__PURE__*/_jsx(\"p\",{children:currentProduct.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\"$\",currentProduct.price,' ',/*#__PURE__*/_jsx(\"button\",{children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Remove from Cart\"})]}),/*#__PURE__*/_jsx(\"img\",{src:\"/images/\".concat(currentProduct.image),alt:currentProduct.name})]}):null,loading?/*#__PURE__*/_jsx(\"img\",{src:spinner,alt:\"loading\"}):null]});}export default Detail;","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","useQuery","useStoreContext","UPDATE_PRODUCTS","QUERY_PRODUCTS","spinner","Detail","state","dispatch","id","currentProduct","setCurrentProduct","loading","data","products","length","find","product","_id","type","name","description","price","image"],"sources":["/Users/nridha/Documents/UCF/UCF-VIRT-FSF-FT-06-2022-U-LOLC/22-State/01-Activities/22-Stu_Typedefs/Solved/client/src/pages/Detail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport { useStoreContext } from '../utils/GlobalState';\nimport { UPDATE_PRODUCTS } from '../utils/actions';\nimport { QUERY_PRODUCTS } from '../utils/queries';\nimport spinner from '../assets/spinner.gif';\n\nfunction Detail() {\n  const [state, dispatch] = useStoreContext();\n  const { id } = useParams();\n\n  const [currentProduct, setCurrentProduct] = useState({});\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  const { products } = state;\n\n  useEffect(() => {\n    if (products.length) {\n      setCurrentProduct(products.find((product) => product._id === id));\n    } else if (data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products,\n      });\n    }\n  }, [products, data, dispatch, id]);\n\n  return (\n    <>\n      {currentProduct ? (\n        <div className=\"container my-1\">\n          <Link to=\"/\">‚Üê Back to Products</Link>\n\n          <h2>{currentProduct.name}</h2>\n\n          <p>{currentProduct.description}</p>\n\n          <p>\n            <strong>Price:</strong>${currentProduct.price}{' '}\n            <button>Add to Cart</button>\n            <button>Remove from Cart</button>\n          </p>\n\n          <img\n            src={`/images/${currentProduct.image}`}\n            alt={currentProduct.name}\n          />\n        </div>\n      ) : null}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n    </>\n  );\n}\n\nexport default Detail;\n"],"mappings":"qMAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,OAASC,QAAT,KAAyB,gBAAzB,CAEA,OAASC,eAAT,KAAgC,sBAAhC,CACA,OAASC,eAAT,KAAgC,kBAAhC,CACA,OAASC,cAAT,KAA+B,kBAA/B,CACA,MAAOC,QAAP,KAAoB,uBAApB,C,6IAEA,QAASC,OAAT,EAAkB,CAChB,qBAA0BJ,eAAe,EAAzC,sDAAOK,KAAP,sBAAcC,QAAd,sBACA,eAAeR,SAAS,EAAxB,CAAQS,EAAR,YAAQA,EAAR,CAEA,cAA4CX,QAAQ,CAAC,EAAD,CAApD,wCAAOY,cAAP,eAAuBC,iBAAvB,eAEA,cAA0BV,QAAQ,CAACG,cAAD,CAAlC,CAAQQ,OAAR,WAAQA,OAAR,CAAiBC,IAAjB,WAAiBA,IAAjB,CAEA,GAAQC,SAAR,CAAqBP,KAArB,CAAQO,QAAR,CAEAjB,SAAS,CAAC,UAAM,CACd,GAAIiB,QAAQ,CAACC,MAAb,CAAqB,CACnBJ,iBAAiB,CAACG,QAAQ,CAACE,IAAT,CAAc,SAACC,OAAD,QAAaA,QAAO,CAACC,GAAR,GAAgBT,EAA7B,EAAd,CAAD,CAAjB,CACD,CAFD,IAEO,IAAII,IAAJ,CAAU,CACfL,QAAQ,CAAC,CACPW,IAAI,CAAEhB,eADC,CAEPW,QAAQ,CAAED,IAAI,CAACC,QAFR,CAAD,CAAR,CAID,CACF,CATQ,CASN,CAACA,QAAD,CAAWD,IAAX,CAAiBL,QAAjB,CAA2BC,EAA3B,CATM,CAAT,CAWA,mBACE,2BACGC,cAAc,cACb,aAAK,SAAS,CAAC,gBAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,qCADF,cAGE,oBAAKA,cAAc,CAACU,IAApB,EAHF,cAKE,mBAAIV,cAAc,CAACW,WAAnB,EALF,cAOE,kCACE,kCADF,KAC2BX,cAAc,CAACY,KAD1C,CACiD,GADjD,cAEE,uCAFF,cAGE,4CAHF,GAPF,cAaE,YACE,GAAG,mBAAaZ,cAAc,CAACa,KAA5B,CADL,CAEE,GAAG,CAAEb,cAAc,CAACU,IAFtB,EAbF,GADa,CAmBX,IApBN,CAqBGR,OAAO,cAAG,YAAK,GAAG,CAAEP,OAAV,CAAmB,GAAG,CAAC,SAAvB,EAAH,CAAyC,IArBnD,GADF,CAyBD,CAED,cAAeC,OAAf"},"metadata":{},"sourceType":"module"}